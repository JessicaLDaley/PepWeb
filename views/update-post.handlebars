<form class="post-submit">
  <div class="field title-input">
    <label class="label">Title</label>
    <div class="control">
      <input
        class="input"
        type="text"
        placeholder="Post Title"
        id="title"
        value="{{post.title}}"
      />
    </div>
  </div>
  <div class="field">
    <label class="label">Post</label>
    <div class="control">
      <textarea class="textarea" id="text">{{post.post_text}}</textarea>
    </div>
  </div>
  <div class="field is-grouped">
    <div class="control">
      <button class="button file-cta" id="updateButton">Update</button>
    </div>
    <div class="control">
      <button class="button file-cta" id="deleteButton">Delete Post</button>
    </div>
  </div>
</form>
<br />
<br />
<h2>Or upload a new image!</h2>
<br />
<br />

<form
  method="post"
  enctype="multipart/form-data"
  action="/api/photos/upload/{{post.id}}"
>
<div class="field is-grouped">
  <div id="file-js-example" class="file has-name">
    <label class="file-label">
      <input class="file-input" type="file" name="upl" />
      <span class="file-cta">
        <span class="file-icon">
          <i class="fas fa-upload"></i>
        </span>
        <span class="file-label">
          Choose a fileâ€¦
        </span>
      </span>
      <span class="file-name">
        No file uploaded
      </span>
    </label>
  </div>
  <button type="submit" class="button is-black">Upload</button>
  </div>
</form>

<script src="/javascript/updatePost.js"></script>
<script>
  const fileInput = document.querySelector('#file-js-example input[type=file]');
  fileInput.onchange = () => {
    if (fileInput.files.length > 0) {
      const fileName = document.querySelector('#file-js-example .file-name');
      fileName.textContent = fileInput.files[0].name;
    }
  }
</script>